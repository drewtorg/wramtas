<!doctype html>
<html lang="en" ng-app="wramtasApp">

  <head>
    <meta charset="UTF-8">
    <title>WRAMTAS</title>
    <script src="node_modules/angular/angular.min.js"></script>
    <script src="node_modules/angular-route/angular-route.min.js"></script>
    <script src="node_modules/angular-sanitize/angular-sanitize.min.js"></script>
    <script src="node_modules/angular-cookies/angular-cookies.min.js"></script>
    <script src="node_modules/ng-flow/dist/ng-flow-standalone.min.js"></script>
    <script src="node_modules/jquery/dist/jquery.min.js"></script>
    <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>

    <!-- Text Editor -->
    <script src="node_modules/tinymce/tinymce.min.js"></script>
    <script src="components/tinymce.js"></script>

    <!-- Styles -->
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="stylesheets/style.css">

    <!-- App file -->
    <script src="app.js"></script>

    <!--  Configs -->
    <script src="configs/flow.js"></script>

    <!-- Services -->
    <script src="about/biosService.js"></script>
    <script src="shared/services/authService.js"></script>
    <script src="shared/services/postsService.js"></script>

    <!-- Controllers -->
    <script src="mainController.js"></script>
    <script src="about/aboutController.js"></script>
    <script src="affiliates/affiliatesController.js"></script>
    <script src="candidates/candidatesController.js"></script>
    <script src="conference/conferenceController.js"></script>
    <script src="donate/donateController.js"></script>
    <script src="home/homeController.js"></script>
    <script src="nominate/nominateController.js"></script>
    <script src="profile/profileController.js"></script>
    <script src="scholarships/scholarshipsController.js"></script>
    <script src="spotlight/spotlightController.js"></script>

    <!-- Directives -->
    <script src="shared/directives/blogPost/blogPostDirective.js"></script>
    <script src="shared/directives/blog/blogDirective.js"></script>
    <script src="about/bio/bioDirective.js"></script>
    <script src="about/bioList/bioListDirective.js"></script>

    <!-- base setting for HTML5 routes -->
    <base href="/" />

  </head>

  <body ng-controller="mainController">
    <div>
      <div>
        <img src="WRAMTAS.png" class="logo img-responsive center-block" />
        <!-- TODO: consider making this a directive -->
        <nav class="navbar navbar-inverse" role="navigation">
          <a class="navbar-brand" href="/">WRAMTAS</a>
          <ul class="nav navbar-nav">
            <!-- TODO: fix this isDropdown nonsense -->
            <li ng-repeat="tab in tabs" ng-class="{active: isActive(tab), dropdown: isDropdown(tab)}">
              <a ng-if="!isDropdown(tab)" ng-href="{{tab.href}}">{{tab.title}}</a>
              <a ng-if="isDropdown(tab)" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{tab.title}}<span class="caret"></span></a>
              <ul ng-if="isDropdown(tab)" class="dropdown-menu">
                <li ng-repeat="subtab in tab.subtabs">
                  <a ng-href="{{subtab.href}}">{{subtab.title}}</a>
                </li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
      <div class="container">
        <div class="row">
          <div class="col-md-2">
            <!-- TODO: consider making this a directive -->
            <form ng-if="!isLoggedIn()" ng-submit="logIn(form)">
              <div class="form-group login-box">
                <input type="text" class="form-control" placeholder="Username" ng-model="form.username" />
                <br/>
                <input type="password" class="form-control" placeholder="Password" ng-model="form.password" />
                <br/>
                <input type="submit" class="btn btn-primary" value="Log in" />
                <a class="pointer" ng-click="register(form)">Register</a>
              </div>
            </form>
            <div ng-if="isLoggedIn()" class="login-box">
              <p>Welcome, {{ getUsername() }}!</p>
              <a class="pointer" ng-click="logout()">Logout</a>
            </div>
          </div>
          <div class="col-md-8" ng-view></div>
          <div class="col-md-2"></div>
        </div>
      </div>
    </div>
  </body>

</html>
