<!doctype html>
<html lang="en" ng-app="wramtasApp">

<head>
  <meta charset="UTF-8">
  <title>WRAMTAS</title>
  <script src="node_modules/angular/angular.min.js"></script>
  <script src="node_modules/angular-route/angular-route.min.js"></script>
  <script src="node_modules/angular-sanitize/angular-sanitize.min.js"></script>
  <script src="node_modules/angular-cookies/angular-cookies.min.js"></script>
  <script src="node_modules/ng-flow/dist/ng-flow-standalone.min.js"></script>
  <script src="node_modules/jquery/dist/jquery.min.js"></script>
  <script src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>

  <!-- Text Editor -->
  <script src="node_modules/tinymce/tinymce.min.js"></script>
  <script src="components/tinymce.js"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="stylesheets/style.css">

  <!-- App file -->
  <script src="app.js"></script>

  <!--  Configs -->
  <script src="configs/flow.js"></script>

  <!-- Services -->
  <script src="pages/About/biosService.js"></script>
  <script src="pages/Application/applicationService.js"></script>
  <script src="pages/Nominate/nominateService.js"></script>
  <script src="pages/Shared/services/authService.js"></script>
  <script src="pages/Shared/services/postsService.js"></script>
  <script src="pages/Shared/services/positionsService.js"></script>
  <script src="pages/Shared/services/universitiesService.js"></script>

  <!-- Controllers -->
  <script src="pages/mainController.js"></script>
  <script src="pages/About/aboutController.js"></script>
  <script src="pages/Affiliates/affiliatesController.js"></script>
  <script src="pages/Application/applicationController.js"></script>
  <script src="pages/Candidates/candidatesController.js"></script>
  <script src="pages/Conference/conferenceController.js"></script>
  <script src="pages/Donate/donateController.js"></script>
  <script src="pages/Home/homeController.js"></script>
  <script src="pages/Nominate/nominateController.js"></script>
  <script src="pages/Profile/profileController.js"></script>
  <script src="pages/Scholarships/scholarshipsController.js"></script>
  <script src="pages/Spotlight/spotlightController.js"></script>

  <!-- Directives -->
  <script src="pages/Shared/directives/blogPost/blogPostDirective.js"></script>
  <script src="pages/Shared/directives/blog/blogDirective.js"></script>
  <script src="pages/About/bio/bioDirective.js"></script>
  <script src="pages/About/bioList/bioListDirective.js"></script>

  <!-- base setting for HTML5 routes -->
  <base href="/" />

</head>

<body ng-controller="mainController">
  <div>
    <div>
      <img src="WRAMTAS.png" class="logo img-responsive center-block" />
      <!-- TODO: consider making this a directive -->
      <nav class="navbar navbar-inverse" role="navigation">
        <a class="navbar-brand" href="/">WRAMTAS</a>
        <ul class="nav navbar-nav">
          <!-- TODO: fix this isDropdown nonsense -->
          <li ng-repeat="tab in tabs" ng-class="{active: isActive(tab), dropdown: isDropdown(tab)}">
            <a ng-if="!isDropdown(tab)" ng-href="{{tab.href}}">{{tab.title}}</a>
            <a ng-if="isDropdown(tab)" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{tab.title}}<span class="caret"></span></a>
            <ul ng-if="isDropdown(tab)" class="dropdown-menu">
              <li ng-repeat="subtab in tab.subtabs">
                <a ng-href="{{subtab.href}}">{{subtab.title}}</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-2">
          <!-- TODO: consider making this a directive -->
          <form ng-if="!isLoggedIn()" ng-submit="logIn(form)">
            <div class="form-group login-box">
              <input type="text" class="form-control" placeholder="Username" ng-model="form.username" />
              <br/>
              <input type="password" class="form-control" placeholder="Password" ng-model="form.password" />
              <br/>
              <input type="submit" class="btn btn-primary" value="Log in" />
              <a class="pointer" ng-click="register(form)">Register</a>
            </div>
          </form>
          <div ng-if="isLoggedIn()" class="login-box">
            <p>Welcome, {{ getUsername() }}!</p>
            <a class="pointer" ng-click="logout()">Logout</a>
          </div>
        </div>
        <div class="col-md-8" ng-view></div>
        <div class="col-md-2"></div>
      </div>
    </div>
  </div>
</body>

</html>
