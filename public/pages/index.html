<!doctype html>
<html lang="en" ng-app="wramtasApp">

<head>
  <meta charset="UTF-8">
  <title>WRAMTAS</title>
  <script src="/angular/angular.min.js"></script>
  <script src="/angular-cookies/angular-cookies.min.js"></script>
  <script src="/angular-route/angular-route.min.js"></script>
  <script src="/angular-sanitize/angular-sanitize.min.js"></script>
  <script src="/angular-filter/dist/angular-filter.min.js"></script>
  <script src="/jquery/dist/jquery.min.js"></script>
  <script src="/bootstrap/dist/js/bootstrap.min.js"></script>

  <!-- Angular UI Bootstrap -->
  <script src="/angular-ui-bootstrap/dist/ui-bootstrap-tpls.js"></script>

  <!-- Angular Spinner -->
  <script src="/spin.js/spin.min.js"></script>
  <script src="/angular-spinner/angular-spinner.min.js"></script>

  <!-- Text Editor -->
  <script src="/tinymce/tinymce.min.js"></script>
  <script src="/angular-ui-tinymce/dist/tinymce.min.js"></script>

  <!-- File Uploader -->
  <script src="components/filepicker.js"></script>
  <script src="components/angular_filepicker.min.js"></script>

  <!-- Styles -->
  <link rel="stylesheet" href="/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="stylesheets/style.css">

  <!-- App file -->
  <script src="app.js"></script>

  <!-- Constants -->
  <script src="constants.js"></script>

  <!--  Configs -->
  <script src="configs/filepicker.js"></script>

  <!-- Services -->
  <script src="pages/About/aboutPageService.js"></script>
  <script src="pages/About/biosService.js"></script>
  <script src="pages/Conference/conferencePageService.js"></script>
  <script src="pages/MasterClass/masterClassService.js"></script>
  <script src="pages/MasterClass/survey/surveyService.js"></script>
  <script src="pages/Nominate/nominateService.js"></script>
  <script src="pages/Scholarships/scholarshipsService.js"></script>
  <script src="pages/Scholarships/scholarshipPageService.js"></script>
  <script src="pages/Shared/services/applicationService.js"></script>
  <script src="pages/Shared/services/authService.js"></script>
  <script src="pages/Shared/services/dateService.js"></script>
  <script src="pages/Shared/services/postsService.js"></script>
  <script src="pages/Shared/services/electionService.js"></script>
  <script src="pages/Shared/services/positionsService.js"></script>
  <script src="pages/Shared/services/universitiesService.js"></script>
  <script src="pages/Shared/services/uploadsService.js"></script>
  <script src="pages/Vote/voteService.js"></script>

  <!-- Controllers -->
  <script src="pages/mainController.js"></script>
  <script src="pages/About/aboutController.js"></script>
  <script src="pages/Affiliates/affiliatesController.js"></script>
  <script src="pages/Application/applicationController.js"></script>
  <script src="pages/Candidates/candidatesController.js"></script>
  <script src="pages/Conference/conferenceController.js"></script>
  <script src="pages/Donate/donateController.js"></script>
  <script src="pages/ElectionInfo/electionInfoController.js"></script>
  <script src="pages/Home/homeController.js"></script>
  <script src="pages/MasterClass/masterClassController.js"></script>
  <script src="pages/MasterClass/survey/surveyController.js"></script>
  <script src="pages/Nominate/nominateController.js"></script>
  <script src="pages/Scholarships/scholarshipsController.js"></script>
  <script src="pages/Spotlight/spotlightController.js"></script>
  <script src="pages/Upload/uploadController.js"></script>
  <script src="pages/Vote/voteController.js"></script>

  <!-- Directives -->
  <script src="pages/About/bio/bioDirective.js"></script>
  <script src="pages/About/bioList/bioListDirective.js"></script>
  <script src="pages/Scholarships/scholarshipApp/scholarshipAppDirective.js"></script>
  <script src="pages/Scholarships/scholarshipList/scholarshipListDirective.js"></script>
  <script src="pages/Shared/directives/blogPost/blogPostDirective.js"></script>
  <script src="pages/Shared/directives/blog/blogDirective.js"></script>

  <!-- base setting for HTML5 routes -->
  <base href="/" />

</head>

<body ng-controller="mainController">
  <div>
    <div>
      <img src="WRAMTAS.png" class="logo img-responsive center-block" />
      <!-- TODO: consider making this a directive -->
      <nav class="navbar navbar-inverse" role="navigation">
        <a class="navbar-brand" href="/">WRAMTAS</a>
        <ul class="nav navbar-nav">
          <!-- TODO: fix this isDropdown nonsense -->
          <li ng-repeat="tab in tabs"
              ng-class="{active: isActive(tab), dropdown: isDropdown(tab)}">
            <a ng-if="!isDropdown(tab)" ng-href="{{tab.href}}">{{tab.title}}</a>
            <a ng-if="isDropdown(tab)"
               class="dropdown-toggle"
               data-toggle="dropdown"
               role="button"
               aria-haspopup="true"
               aria-expanded="false">
              {{tab.title}}<span class="caret"></span>
            </a>
            <ul ng-if="isDropdown(tab)" class="dropdown-menu">
              <li ng-repeat="subtab in tab.subtabs">
                <a ng-href="{{subtab.href}}">{{subtab.title}}</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-2">
          <!-- TODO: move this into the navbar -->
          <form ng-if="!isLoggedIn()" ng-submit="logIn(form)">
            <div class="form-group login-box">
              <input type="text"
                     class="form-control"
                     placeholder="Username"
                     ng-model="form.username" />
              <br/>
              <input type="password"
                     class="form-control"
                     placeholder="Password"
                     ng-model="form.password" />
              <br/>
              <input type="submit"
                     class="btn btn-primary"
                     value="Log in" />
              <!--<a class="pointer" ng-click="register(form)">Register</a>-->
            </div>
          </form>
          <div ng-if="isLoggedIn()" class="login-box">
            <p>Welcome, {{ getUsername() }}!</p>
            <a class="pointer" ng-click="logout()">Logout</a>
          </div>
        </div>
        <div class="col-md-8" ng-view></div>
        <div class="col-md-2">
        </div>
      </div>
    </div>
  </div>
  <br/>
  <br/>
</body>
</html>
