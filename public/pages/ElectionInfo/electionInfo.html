<div>
  <h2>General Election Information</h2>
  <p>Lots of info on how the election works</p>
  <div ng-show="isAdmin()">
    <div ng-show="isElectionRunning">
      <h3>Election Results</h3>
      <!-- One table per position -->
      <div ng-repeat="(id, candidateGroup) in candidates | groupBy:'position'">
        <div ng-show="hasApprovedCandidates(candidateGroup)">
          <h3>{{positions[id]}}:</h3>
          <table class="table table-bordered table-striped">
            <tr>
              <th>Name</th>
              <th>AMTA ID</th>
              <th>Votes</th>
            </tr>
            <tr ng-repeat="candidate in candidateGroup">
              <td>{{candidate.name}}</td>
              <td>{{candidate.amtaId}}</td>
              <td>{{candidate.votes}}</td>
            </tr>
          </table>
        </div>
      </div>
      <button class="btn btn-primary margin-bottom" ng-click="deleteElection()">Clear Election</button>
    </div>
    <div ng-show="!isElectionRunning">
      <h3>Create an Election</h3>
      <p>There is currently no election set up yet. If you would like to start a new election cycle, please choose a start and end date.</p>
      <form class="form-inline" ng-submit="createElection(dates)">
        <div class="row">
          <div class="form-group col-md-6">
            <label class="control-label">Start Date:</label>
            <p class="input-group">
              <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dates.startDate" is-open="startDate.opened" datepicker-options="dateOptions" close-text="Close" />
              <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="toggleOpened(startDate)"><i class="glyphicon glyphicon-calendar"></i></button></span>
            </p>
          </div>
          <div class="form-group col-md-6">
            <label class="control-label">End Date:</label>
            <p class="input-group">
              <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dates.endDate" is-open="endDate.opened" datepicker-options="dateOptions" close-text="Close" />
              <span class="input-group-btn"><button type="button" class="btn btn-default" ng-click="toggleOpened(endDate)"><i class="glyphicon glyphicon-calendar"></i></button></span>
            </p>
          </div>
        </div>
        <input type="submit" class="btn btn-primary" value="Create Election" />
      </form>
    </div>
  </div>
</div>
